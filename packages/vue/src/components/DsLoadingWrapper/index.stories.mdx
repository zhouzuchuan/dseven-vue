import { Meta, Canvas, Story, Preview, ArgsTable } from '@storybook/addon-docs'
import { storyFactory } from '~storybook/util/helpers'
import DocsStyle from '~storybook/util/DocsStyle.mdx'
import DsLoadingWrapper from './index.vue'

<DocsStyle />

<Meta
  title="集成组件/LoadingWrapper（加载包装组件）"
  component={DsLoadingWrapper}
/>

# LoadingWrapper（加载包装）

**`ds-loading-wrapper`** 组件

export const Template = (args, { argTypes }) => ({
  props: Object.keys(argTypes),
  components: { DsLoadingWrapper },
  template: '<ds-v-table v-bind="$props" />',
})

export const data = Array(112).fill('')

export const headers = [
  {
    text: 'No',
    align: 'start',
    sortable: false,
    value: 'no',
  },
  { text: 'name', value: 'name' },
  { text: 'age', value: 'age' },
]

<Preview>
  <Story name="基本使用">
    {{
      components: { DsLoadingWrapper },
      template: `
        <div>
          <button @click="handleSwitch">切换状态</button>
          <button @click="handleSwitch">设置高度为</button>
          <button @click="handleSwitch">切换状态</button>
          <ds-loading-wrapper :loading="loading" height="200px"> 我是slot </ds-loading-wrapper>
        </div>
      `,
      data() {
        return {
          loading: true,
        }
      },
      methods: {
        handleSwitch() {
          this.loading = !this.loading
        },
      },
    }}
  </Story>
</Preview>

<ArgsTable of={DsLoadingWrapper} />
